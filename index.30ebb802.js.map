{"mappings":"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","sources":["src/js/catalog/catalog.js","src/js/header/header-form.js","src/js/header/header-modal.js","src/js/header/theme-switch.js","src/js/shared/add-coctails-to-ingridient.js"],"sourcesContent":["import { getRandomCocktail, getCocktailsByName } from '../shared/api-service';\nimport { getCocktailsAmountPerPage } from '../shared/get-cocktails-amount-per-page';\nimport { createCocktailsMarkup } from './create-cocktails-markup';\nimport { Paginator } from './pagination/paginator';\n\nconst refs = {\n  title: document.querySelector('.catalog__title'),\n  list: document.querySelector('.catalog__list'),\n  notFound: document.querySelector('.coctails__wrapper-found'),\n};\n\nconst catalogPaginator = new Paginator({\n  selector: '.paginator',\n  drawMarkup: cocktails => {\n    refs.list.innerHTML = createCocktailsMarkup(cocktails);\n    window.scrollTo({\n      top: 700,\n      behavior: 'smooth',\n    });\n  },\n});\n\nfunction getRandomCoctails(amount) {\n  return Array(amount)\n    .fill(null)\n    .map(() => getRandomCocktail().then(res => res.drinks[0]));\n}\n\nasync function showInitialCoctails() {\n  const cocktails = JSON.parse(localStorage.getItem('query'));\n  \n  if (cocktails) {\n    if (!cocktails.length) {\n      refs.title.textContent = '';\n      refs.list.innerHTML = '';\n      refs.notFound.classList.remove('hidden');\n      refs.title.classList.add('hidden');\n    } else {\n      catalogPaginator.update(cocktails);\n    }\n\n    localStorage.removeItem('query');\n  } else {\n    const cocktailsAmount = getCocktailsAmountPerPage();\n    const cocktailsPromises = getRandomCoctails(cocktailsAmount);\n    const cocktails = await Promise.all(cocktailsPromises);\n\n    refs.list.innerHTML = createCocktailsMarkup(cocktails);\n  }\n}\n\nshowInitialCoctails();\n","import { handleCocktailsSearch } from '../shared/handle-cocktails-search';\nimport { hideMobileMenu } from './header-modal';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormModal = document.querySelector('.header__search-form-modal');\n\nsearchForm.addEventListener('submit', handleCocktailsSearch);\nsearchFormModal.addEventListener('submit', (e) => {\n    e.preventDefault();\n    hideMobileMenu();\n    handleCocktailsSearch(e);\n});\n","const mobileMenu = document.querySelector('.js-menu-container');\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\n\nconst toggleMenu = () => {\n  const isMenuOpen =\n    openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n  openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n  mobileMenu.classList.toggle('is-open');\n\n    if (!isMenuOpen) {\n      window.bodyScrollLock?.disableBodyScroll(document.body);\n    } else {\n      window.bodyScrollLock?.enableBodyScroll(document.body);\n    }\n};\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\n\n// Close the mobile menu on wider screens if the device orientation changes\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n  if (!e.matches) return;\n  mobileMenu.classList.remove('is-open');\n  openMenuBtn.setAttribute('aria-expanded', false);\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n});\n\nexport function hideMobileMenu() {\n  mobileMenu.classList.remove('is-open');\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n}\n","const refs = {\n  input: document.querySelector('.checkbox'),\n  checkbox: document.querySelector('.header__switcher'),\n  checkboxMob: document.querySelector('.header__switcher-btn'),\n};\n\nconst THEME_KEY = 'theme';\nconst savedTheme = localStorage.getItem(THEME_KEY);\n\nif (savedTheme === 'dark') {\n  refs.checkbox.classList.add('checked');\n  refs.checkboxMob.classList.add('checked');\n  document.documentElement.dataset.theme = savedTheme;\n}\n\nrefs.input.addEventListener('change', event => {\n  let activeTheme = null;\n\n  if (event.target.checked) {\n    refs.checkbox.classList.add('checked');\n    refs.checkboxMob.classList.add('checked');\n    activeTheme = 'dark';\n  } else {\n    refs.checkbox.classList.remove('checked');\n    refs.checkboxMob.classList.remove('checked');\n    activeTheme = 'light';\n  }\n\n  document.documentElement.dataset.theme = activeTheme;\n  localStorage.setItem(THEME_KEY, activeTheme);\n});\n","const btnIngredients = document.querySelector('.js-modal-ingredient');\n\nbtnIngredients.addEventListener('click', addIngToFavorite);\n\nfunction addIngToFavorite(evt) {\n  const id = evt.target.value;\n  const favoriteIng = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n\n  if (evt.target.dataset.action === 'favorite') {\n    favoriteIng.push(id);\n  } else if (evt.target.dataset.action === 'remove_favorite') {\n    const index = favoriteIng.findIndex(_id => _id === id);\n\n    favoriteIng.splice(index, 1);\n  }\n\n  // if (!favoriteIng.includes(id)) {\n    \n  //   btnIngredients.textContent = 'Remove from favorites';\n  // } else {\n    \n  //   btnIngredients.textContent = 'Add to favorites';\n  // }\n\n  localStorage.setItem('favoriteIng', JSON.stringify(favoriteIng));\n}\n\nfunction findIdEl(ing) {\n  let favoriteIng = JSON.parse(localStorage.getItem('favoriteIng'));\n  if (!favoriteIng) {\n    localStorage.setItem('favoriteIng', JSON.stringify([]));\n  }\n  if (ing.includes(ing.idIngredient)) {\n  } else {\n  }\n}\n\nexport function createMarkupIng(ing) {\n  return ing\n    .map(e => {\n      return `\n  <div class=\"ing__cocktails\">\n  <div class=\"ing__cocktails-wrapper\">\n    <h3 class=\"ing__text-name\">${e.strIngredient}</h3>\n    <p class='ing__text'>${e.strType || 'No type found'}</p>\n    <div class=\"ing__btns\">\n    <button class=\"ing__button-primary js-ingredient\" data-ingredient=\"${e.strIngredient}\">Learn more</button>\n    <button class='ing__button-secondary' data-id=\"${\n      e.idIngredient\n    }\">Remove</button>\n    </div>\n    </div>\n  </div>`;\n    })\n    .join('');\n}\n"],"names":["$hF5kJ","parcelRequire","$f4af26abeffeb76f$var$refs","title","document","querySelector","list","notFound","$f4af26abeffeb76f$var$catalogPaginator","$fs3tN","Paginator","selector","drawMarkup","cocktails","innerHTML","$cDAMP","createCocktailsMarkup","window","scrollTo","top","behavior","async","JSON","parse","localStorage","getItem","length","update","textContent","classList","remove","add","removeItem","cocktailsAmount","$guCBX","getCocktailsAmountPerPage","cocktailsPromises","Array","fill","map","getRandomCocktail","then","res","drinks","Promise","all","$f4af26abeffeb76f$var$showInitialCoctails","$fS69O","$01b57601a53c8cf8$var$mobileMenu","$01b57601a53c8cf8$var$openMenuBtn","$01b57601a53c8cf8$var$closeMenuBtn","$01b57601a53c8cf8$var$toggleMenu","isMenuOpen","getAttribute","setAttribute","toggle","bodyScrollLock","enableBodyScroll","body","disableBodyScroll","addEventListener","matchMedia","e","matches","$fabcb55eae76a3e6$var$searchForm","$fabcb55eae76a3e6$var$searchFormModal","handleCocktailsSearch","preventDefault","$9127d9019a6d8d38$var$refs","input","checkbox","checkboxMob","$9127d9019a6d8d38$var$THEME_KEY","$9127d9019a6d8d38$var$savedTheme","documentElement","dataset","theme","event","activeTheme","target","checked","setItem","evt","id","value","favoriteIng","action","push","index","findIndex","_id","splice","stringify"],"version":3,"file":"index.30ebb802.js.map"}