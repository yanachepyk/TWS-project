{"mappings":"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","sources":["src/js/header/header-form.js","src/js/header/header-modal.js","src/js/header/theme-switch.js","src/js/shared/add-coctails-to-ingridient.js","src/js/favorite_page/favorite_page.js","src/js/footer/footer.js","src/js/shared/handle-favorite-page-search.js","src/favorite-ingredient.js"],"sourcesContent":["import { handleCocktailsSearch } from '../shared/handle-cocktails-search';\nimport { hideMobileMenu } from './header-modal';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormModal = document.querySelector('.header__search-form-modal');\nconst header = document.querySelector('.header');\n\nsearchForm.addEventListener('submit', handleCocktailsSearch);\nsearchFormModal.addEventListener('submit', handleCocktailsSearch);\n// скролл\nwindow.addEventListener('scroll', function () {\n  if (window.scrollY > 0) {\n    header.classList.add('scrolled');\n  } else {\n    header.classList.remove('scrolled');\n  }\n});\n","const mobileMenu = document.querySelector('.js-menu-container');\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\n\nconst toggleMenu = () => {\n  const isMenuOpen =\n    openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n  openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n  mobileMenu.classList.toggle('is-open');\n\n    if (!isMenuOpen) {\n      window.bodyScrollLock?.disableBodyScroll(document.body);\n    } else {\n      window.bodyScrollLock?.enableBodyScroll(document.body);\n    }\n};\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\n\n// Close the mobile menu on wider screens if the device orientation changes\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n  if (!e.matches) return;\n  mobileMenu.classList.remove('is-open');\n  openMenuBtn.setAttribute('aria-expanded', false);\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n});\n\nexport function hideMobileMenu() {\n  mobileMenu.classList.remove('is-open');\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n}\n","const refs = {\n  input: document.querySelector('.checkbox'),\n  checkbox: document.querySelector('.header__switcher'),\n  checkboxMob: document.querySelector('.header__switcher-btn'),\n};\n\nconst THEME_KEY = 'theme';\nconst savedTheme = localStorage.getItem(THEME_KEY);\n\nif (savedTheme === 'dark') {\n  refs.checkbox.classList.add('checked');\n  refs.checkboxMob.classList.add('checked');\n  document.documentElement.dataset.theme = savedTheme;\n}\n\nrefs.input.addEventListener('change', event => {\n  let activeTheme = null;\n\n  if (event.target.checked) {\n    refs.checkbox.classList.add('checked');\n    refs.checkboxMob.classList.add('checked');\n    activeTheme = 'dark';\n  } else {\n    refs.checkbox.classList.remove('checked');\n    refs.checkboxMob.classList.remove('checked');\n    activeTheme = 'light';\n  }\n\n  document.documentElement.dataset.theme = activeTheme;\n  localStorage.setItem(THEME_KEY, activeTheme);\n});\n","const btnIngredients = document.querySelector('.js-modal-ingredient');\n\nbtnIngredients.addEventListener('click', addIngToFavorite);\n\nfunction addIngToFavorite(evt) {\n  const id = evt.target.value;\n  const favoriteIng = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n\n  if (evt.target.dataset.action === 'favorite' && !favoriteIng.includes(id)) {\n    favoriteIng.push(id);\n  } else if (evt.target.dataset.action === 'remove_favorite' && favoriteIng.includes(id)) {\n    const index = favoriteIng.findIndex(_id => _id === id);\n\n    favoriteIng.splice(index, 1);\n  }\n\n  // if (!favoriteIng.includes(id)) {\n    \n  //   btnIngredients.textContent = 'Remove from favorites';\n  // } else {\n    \n  //   btnIngredients.textContent = 'Add to favorites';\n  // }\n\n  localStorage.setItem('favoriteIng', JSON.stringify(favoriteIng));\n}\n\nfunction findIdEl(ing) {\n  let favoriteIng = JSON.parse(localStorage.getItem('favoriteIng'));\n  if (!favoriteIng) {\n    localStorage.setItem('favoriteIng', JSON.stringify([]));\n  }\n  if (ing.includes(ing.idIngredient)) {\n  } else {\n  }\n}\n\nexport function createMarkupIng(ing) {\n  return ing\n    .map(e => {\n      return `\n  <div class=\"ing__cocktails\">\n  <div class=\"ing__cocktails-wrapper\">\n    <h3 class=\"ing__text-name\">${e.strIngredient}</h3>\n    <p class='ing__text'>${e.strType || 'No type found'}</p>\n    <div class=\"ing__btns\">\n    <button class=\"ing__button-primary js-ingredient\" data-ingredient=\"${e.strIngredient}\">Learn more</button>\n    <button class='ing__button-secondary' data-id=\"${\n      e.idIngredient\n    }\">Remove</button>\n    </div>\n    </div>\n  </div>`;\n    })\n    .join('');\n}\n","import { createMarkupIng } from '../shared/add-coctails-to-ingridient';\nimport { getCocktailIngredientById } from '../shared/api-service';\nimport { Paginator } from '../catalog/pagination/paginator';\n\nconst refs = {\n  ingEl: document.querySelector('.js-favorite__ing'),\n};\n\nconst favoriteCocktailsPaginator = new Paginator({\n  selector: '.paginator',\n  drawMarkup: ing => {\n    refs.ingEl.innerHTML = createMarkupIng(ing);\n      window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        });\n  }\n});\n\nasync function onLoad() {\n  const ingridients = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n  const promises = getIngridients(ingridients);\n  const res = await Promise.all(promises);\n\n  favoriteCocktailsPaginator.update(res)\n}\nonLoad();\nfunction getIngridients(ing) {\n  return ing.map(ingridients => {\n    return getCocktailIngredientById(ingridients).then(response => {\n      return response.ingredients[0];\n    });\n  });\n}\n\nrefs.ingEl.addEventListener('click', e => {\n  if (e.target.nodeName !== 'BUTTON' || e.target.textContent !== 'Remove')\n    return;\n  const id = e.target.dataset.id;\n  console.log(id);\n  const savedIngrIds = JSON.parse(localStorage.getItem('favoriteIng'));\n  \n  if (savedIngrIds) {\n    const idIndex = savedIngrIds.findIndex(savedId => savedId === id);\n\n    savedIngrIds.splice(idIndex, 1);\n\n    localStorage.setItem('favoriteIng', JSON.stringify(savedIngrIds));\n    e.target.closest('.ing__cocktails').remove();\n  }  \n});\nconst ingridients = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n","const footer = document.querySelector('.footer');\nwindow.addEventListener('load', function () {\n  const contentHeight = document.documentElement.scrollHeight;\n  const viewportHeight = window.innerHeight;\n\n  if (contentHeight > viewportHeight) {\n    footer.style.position = 'fixed';\n  }\n});","import { getCocktailsByName } from \"./api-service\";\n\nexport async function handleFavoritePageSearch(e) {\n  e.preventDefault();\n  const query = e.target?.elements?.search?.value?.trim() || '';\n  const data = await getCocktailsByName(query);\n\n  localStorage.setItem('query', JSON.stringify(data.drinks));\n  window.location.href = 'index.html';\n}","import './js/header/header-form';\nimport './js/header/header-modal';\nimport './js/header/theme-switch';\nimport './js/favorite_page/favorite_page';\nimport './js/shared/listener-btn-learnmore';\nimport './js/shared/add-coctails-to-ingridient';\nimport './js/shared/handle-ingredient-modal-open';\nimport './js/footer/footer';\nimport {handleIngredientModalOpen} from './js/shared/handle-ingredient-modal-open';\nimport { handleFavoritePageSearch } from './js/shared/handle-favorite-page-search';\nimport { hideMobileMenu } from './js/header/header-modal';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormMobile = document.querySelector('.header__search-form-modal');\nconst ingredientList = document.querySelector('.js-ingredients-list');\n\ningredientList.addEventListener('click', handleIngredientModalOpen);\nsearchForm.addEventListener('submit', handleFavoritePageSearch);\n\nsearchFormMobile.addEventListener('submit', (e) => {\n    e.preventDefault();\n    hideMobileMenu();\n    handleFavoritePageSearch(e);\n});\n"],"names":["$5Deoo","parcelRequire","$5132d33abb0ee0d1$var$mobileMenu","document","querySelector","$5132d33abb0ee0d1$var$openMenuBtn","$5132d33abb0ee0d1$var$closeMenuBtn","$5132d33abb0ee0d1$var$toggleMenu","isMenuOpen","getAttribute","setAttribute","classList","toggle","window","bodyScrollLock","enableBodyScroll","body","disableBodyScroll","addEventListener","matchMedia","e","matches","remove","$a89cc992caf03056$var$searchForm","$a89cc992caf03056$var$searchFormModal","$a89cc992caf03056$var$header","handleCocktailsSearch","scrollY","add","$23b67f4f74d58cce$var$refs","input","checkbox","checkboxMob","$23b67f4f74d58cce$var$THEME_KEY","$23b67f4f74d58cce$var$savedTheme","localStorage","getItem","documentElement","dataset","theme","event","activeTheme","target","checked","setItem","$813291e9ce4f1a10$export$5f39d8a99b5269bc","ing","map","strIngredient","strType","idIngredient","join","evt","id","value","favoriteIng","JSON","parse","action","includes","index","findIndex","_id","splice","push","stringify","$0e04ce987217af34$var$refs","ingEl","$0e04ce987217af34$var$favoriteCocktailsPaginator","$2exYQ","Paginator","selector","drawMarkup","innerHTML","scrollTo","top","behavior","async","promises","ingridients","$a48aG","getCocktailIngredientById","then","response","ingredients","res","Promise","all","update","$0e04ce987217af34$var$onLoad","nodeName","textContent","console","log","savedIngrIds","idIndex","savedId","closest","$7ac7d2424bf093b1$var$footer","scrollHeight","innerHeight","style","position","$a28350d2471c1199$export$5e2f760313c07ccc","preventDefault","query","elements","search","trim","data","getCocktailsByName","drinks","location","href","$b55af67e55b32e1f$var$searchForm","$b55af67e55b32e1f$var$searchFormMobile","$eHOcC","handleIngredientModalOpen"],"version":3,"file":"favorite-ingredients.c1a7b26a.js.map"}